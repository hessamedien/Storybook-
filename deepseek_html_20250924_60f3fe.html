<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رمان تعاملی The Last Of Us - داستان کامل</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* استایل‌های کلی */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #8b0000;
            --secondary-color: #d4a017;
            --dark-bg: #1a1a1a;
            --darker-bg: #0f0f0f;
            --light-text: #e0e0e0;
            --medium-text: #aaaaaa;
            --card-bg: rgba(40, 40, 40, 0.8);
            --border-color: #444444;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        body {
            background-color: var(--dark-bg);
            color: var(--light-text);
            overflow-x: hidden;
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(139, 0, 0, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(212, 160, 23, 0.1) 0%, transparent 20%);
            min-height: 100vh;
        }
        
        /* صفحه اصلی */
        .main-menu {
            background: 
                linear-gradient(rgba(15, 15, 15, 0.9), rgba(15, 15, 15, 0.9)),
                url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .main-menu::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%238b0000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
        }
        
        .logo-container {
            position: relative;
            margin-bottom: 3rem;
            z-index: 2;
        }
        
        .logo {
            font-family: 'Cinzel', 'Times New Roman', serif;
            font-size: 5.5rem;
            color: #fff;
            text-shadow: 0 0 15px rgba(139, 0, 0, 0.7);
            margin-bottom: 1rem;
            letter-spacing: 5px;
            position: relative;
            display: inline-block;
        }
        
        .logo span {
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.9);
        }
        
        .logo::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 10%;
            width: 80%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: var(--medium-text);
            margin-top: 1rem;
            font-style: italic;
        }
        
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 320px;
            max-width: 90%;
            z-index: 2;
        }
        
        .menu-btn {
            background: rgba(50, 50, 50, 0.7);
            border: 2px solid var(--border-color);
            color: #fff;
            padding: 18px 25px;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(5px);
        }
        
        .menu-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .menu-btn:hover::before {
            left: 100%;
        }
        
        .menu-btn:hover {
            background: rgba(80, 80, 80, 0.7);
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }
        
        .start-btn {
            background: rgba(139, 0, 0, 0.7);
            border-color: var(--primary-color);
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .start-btn:hover {
            background: rgba(160, 0, 0, 0.8);
        }
        
        .btn-icon {
            margin-left: 10px;
        }
        
        /* صفحه داستان - طراحی کتاب */
        .story-container {
            display: none;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        .book-cover {
            background: 
                linear-gradient(rgba(20, 20, 20, 0.9), rgba(20, 20, 20, 0.9)),
                url('https://images.unsplash.com/photo-1585314062340-f1a5a7c9328d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            border-radius: 10px;
            padding: 40px 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            position: relative;
        }
        
        .book-cover::before {
            content: '';
            position: absolute;
            top: 10px;
            right: 10px;
            bottom: 10px;
            left: 10px;
            border: 1px solid rgba(212, 160, 23, 0.3);
            border-radius: 5px;
            pointer-events: none;
        }
        
        .story-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .story-title {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-family: 'Cinzel', serif;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .story-subtitle {
            font-size: 1.4rem;
            color: var(--secondary-color);
            font-style: italic;
        }
        
        .story-content {
            font-size: 1.15rem;
            line-height: 1.8;
            text-align: justify;
        }
        
        .chapter {
            margin-bottom: 50px;
            padding: 30px;
            background: var(--card-bg);
            border-radius: 8px;
            border-left: 5px solid var(--primary-color);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .chapter::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='0.03' fill-rule='evenodd'%3E%3Ccircle cx='3' cy='3' r='3'/%3E%3Ccircle cx='13' cy='13' r='3'/%3E%3C/g%3E%3C/svg%3E");
            z-index: 0;
        }
        
        .chapter-content {
            position: relative;
            z-index: 1;
        }
        
        .chapter-title {
            font-size: 2rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            font-family: 'Cinzel', serif;
        }
        
        .chapter-number {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            margin-left: 15px;
            font-weight: bold;
        }
        
        .character {
            font-weight: bold;
            color: var(--secondary-color);
            border-bottom: 1px dotted var(--secondary-color);
        }
        
        .dialogue {
            margin: 20px 0;
            padding: 15px 20px;
            background: rgba(60, 60, 60, 0.5);
            border-radius: 8px;
            border-right: 4px solid var(--border-color);
            position: relative;
        }
        
        .dialogue::before {
            content: '"';
            font-size: 3rem;
            color: var(--primary-color);
            position: absolute;
            top: -10px;
            right: 10px;
            opacity: 0.3;
        }
        
        .story-image {
            width: 100%;
            max-width: 700px;
            margin: 25px auto;
            display: block;
            border-radius: 8px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .image-caption {
            text-align: center;
            font-style: italic;
            color: var(--medium-text);
            margin-top: 10px;
            margin-bottom: 20px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
        
        .nav-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
        }
        
        .nav-btn:hover {
            background: #a00;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .nav-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .progress-bar {
            width: 100%;
            height: 5px;
            background: var(--border-color);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: var(--primary-color);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        /* صفحه تنظیمات */
        .settings-container {
            display: none;
            padding: 20px;
            max-width: 700px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        .settings-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .settings-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: var(--primary-color);
            font-family: 'Cinzel', serif;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 15px;
        }
        
        .settings-group {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(50, 50, 50, 0.5);
            border-radius: 8px;
            border-left: 3px solid var(--primary-color);
        }
        
        .settings-label {
            display: block;
            margin-bottom: 15px;
            font-size: 1.3rem;
            color: var(--secondary-color);
        }
        
        .settings-input {
            width: 100%;
            padding: 12px;
            background: #333;
            border: 1px solid #555;
            border-radius: 5px;
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .settings-select {
            width: 100%;
            padding: 12px;
            background: #333;
            border: 1px solid #555;
            border-radius: 5px;
            color: #fff;
            font-size: 1.1rem;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .checkbox-group input {
            margin-left: 12px;
            transform: scale(1.2);
        }
        
        .online-options {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: rgba(60, 60, 60, 0.5);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }
        
        .volume-icon {
            color: var(--secondary-color);
            font-size: 1.2rem;
        }
        
        /* صفحه سازندگان */
        .credits-container {
            display: none;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        .credits-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            text-align: center;
        }
        
        .credits-title {
            font-size: 2.8rem;
            color: var(--primary-color);
            margin-bottom: 40px;
            font-family: 'Cinzel', serif;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 15px;
        }
        
        .credit-section {
            margin-bottom: 40px;
            padding: 25px;
            background: rgba(50, 50, 50, 0.5);
            border-radius: 8px;
            border-left: 3px solid var(--secondary-color);
        }
        
        .credit-name {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }
        
        .credit-role {
            font-size: 1.2rem;
            color: var(--medium-text);
            margin-bottom: 20px;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .social-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .social-link:hover {
            background: #a00;
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }
        
        /* صفحه پایان */
        .ending-container {
            display: none;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        .ending-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            text-align: center;
        }
        
        .ending-title {
            font-size: 2.8rem;
            color: var(--primary-color);
            margin-bottom: 30px;
            font-family: 'Cinzel', serif;
        }
        
        .ending-content {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 40px;
            text-align: justify;
            padding: 0 20px;
        }
        
        .ending-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        .action-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .action-btn:hover {
            background: #a00;
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }
        
        /* صفحه متن کامل */
        .full-text-container {
            display: none;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
        }
        
        .full-text-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }
        
        .full-text-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .full-text-title {
            font-size: 2.8rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-family: 'Cinzel', serif;
        }
        
        .full-text-subtitle {
            font-size: 1.4rem;
            color: var(--secondary-color);
            font-style: italic;
        }
        
        .full-text-content {
            font-size: 1.15rem;
            line-height: 1.8;
            text-align: justify;
            max-height: 70vh;
            overflow-y: auto;
            padding: 20px;
            background: rgba(30, 30, 30, 0.5);
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .full-text-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        /* نوار وضعیت */
        .status-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(20, 20, 20, 0.9);
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(5px);
            border-top: 1px solid var(--border-color);
        }
        
        .music-player {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .music-control {
            background: none;
            border: none;
            color: var(--light-text);
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .current-time {
            font-size: 0.9rem;
            color: var(--medium-text);
        }
        
        /* رسپانسیو */
        @media (max-width: 768px) {
            .logo {
                font-size: 3.5rem;
            }
            
            .menu-buttons {
                width: 90%;
            }
            
            .story-title, .settings-title, .credits-title, .ending-title, .full-text-title {
                font-size: 2.2rem;
            }
            
            .chapter-title {
                font-size: 1.7rem;
            }
            
            .story-content, .full-text-content {
                font-size: 1.05rem;
            }
            
            .navigation, .full-text-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-btn, .action-btn {
                width: 100%;
                justify-content: center;
            }
            
            .ending-actions {
                flex-direction: column;
            }
            
            .social-links {
                flex-direction: column;
                align-items: center;
            }
            
            .social-link {
                width: 80%;
                justify-content: center;
            }
            
            .full-text-content {
                max-height: 60vh;
            }
        }
        
        /* انیمیشن‌ها */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.7s ease-out;
        }
        
        @keyframes glow {
            0% { text-shadow: 0 0 5px rgba(139, 0, 0, 0.7); }
            50% { text-shadow: 0 0 20px rgba(139, 0, 0, 0.9); }
            100% { text-shadow: 0 0 5px rgba(139, 0, 0, 0.7); }
        }
        
        .glow {
            animation: glow 3s infinite;
        }
        
        /* اسکرول بار */
        ::-webkit-scrollbar {
            width: 12px;
        }
        
        ::-webkit-scrollbar-track {
            background: #333;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 6px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a00;
        }
        
        /* حالت‌های مختلف تم */
        .light-theme {
            --dark-bg: #f5f5f5;
            --darker-bg: #e0e0e0;
            --light-text: #333333;
            --medium-text: #666666;
            --card-bg: rgba(240, 240, 240, 0.9);
            --border-color: #cccccc;
        }
        
        .sepia-theme {
            --dark-bg: #f4ecd8;
            --darker-bg: #e8dcc0;
            --light-text: #5b4636;
            --medium-text: #7a634d;
            --card-bg: rgba(240, 230, 210, 0.9);
            --border-color: #d4b78c;
        }
        
        /* استایل‌های چاپ */
        @media print {
            body {
                background: white;
                color: black;
                font-size: 12pt;
                line-height: 1.5;
            }
            
            .main-menu, .settings-container, .credits-container, .ending-container, 
            .status-bar, .navigation, .full-text-actions {
                display: none !important;
            }
            
            .story-container, .full-text-container {
                display: block !important;
                padding: 0;
                margin: 0;
                max-width: 100%;
            }
            
            .book-cover, .full-text-card {
                box-shadow: none;
                border: none;
                padding: 20px;
            }
            
            .story-title, .full-text-title {
                color: black;
                font-size: 24pt;
            }
            
            .chapter-title {
                color: #8b0000;
                font-size: 18pt;
                page-break-after: avoid;
            }
            
            .chapter {
                page-break-inside: avoid;
                margin-bottom: 30px;
            }
            
            .dialogue {
                border-left: 3px solid #8b0000;
                border-right: none;
                margin: 15px 0;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- صفحه اصلی -->
    <div class="main-menu" id="mainMenu">
        <div class="logo-container">
            <h1 class="logo glow">THE LAST <span>OF US</span></h1>
            <p class="subtitle">داستان کامل - Part I & Part II</p>
        </div>
        <div class="menu-buttons">
            <button class="menu-btn start-btn" onclick="startStory()">
                شروع داستان <i class="btn-icon fas fa-play"></i>
            </button>
            <button class="menu-btn" onclick="showSettings()">
                تنظیمات <i class="btn-icon fas fa-cog"></i>
            </button>
            <button class="menu-btn" onclick="showCredits()">
                سازندگان <i class="btn-icon fas fa-users"></i>
            </button>
            <button class="menu-btn" onclick="showFullText()">
                متن کامل <i class="btn-icon fas fa-book"></i>
            </button>
            <button class="menu-btn" onclick="exitApp()">
                خروج <i class="btn-icon fas fa-sign-out-alt"></i>
            </button>
        </div>
    </div>
    
    <!-- صفحه داستان -->
    <div class="story-container" id="storyContainer">
        <div class="book-cover">
            <div class="story-header">
                <h1 class="story-title">داستان کامل The Last Of Us</h1>
                <p class="story-subtitle">یک رمان تعاملی بر اساس بازی معروف ناتی داگ</p>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="storyProgress"></div>
            </div>
            
            <div class="story-content" id="storyContent">
                <!-- محتوای داستان اینجا بارگذاری می‌شود -->
            </div>
            
            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="previousChapter()" disabled>
                    <i class="fas fa-arrow-right"></i> فصل قبلی
                </button>
                <button class="nav-btn" id="nextBtn" onclick="nextChapter()">
                    فصل بعدی <i class="fas fa-arrow-left"></i>
                </button>
                <button class="nav-btn" onclick="backToMenu()">
                    بازگشت به منو <i class="fas fa-home"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- صفحه تنظیمات -->
    <div class="settings-container" id="settingsContainer">
        <div class="settings-card">
            <h1 class="settings-title">تنظیمات</h1>
            
            <div class="settings-group">
                <label class="settings-label">سایز فونت</label>
                <select class="settings-select" id="fontSize" onchange="updateFontSize()">
                    <option value="1rem">کوچک</option>
                    <option value="1.15rem" selected>متوسط</option>
                    <option value="1.3rem">بزرگ</option>
                    <option value="1.5rem">خیلی بزرگ</option>
                </select>
            </div>
            
            <div class="settings-group">
                <label class="settings-label">نوع فونت</label>
                <select class="settings-select" id="fontFamily" onchange="updateFontFamily()">
                    <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif" selected>استاندارد</option>
                    <option value="'B Nazanin', 'Times New Roman', serif">نستعلیق</option>
                    <option value="'B Titr', 'Arial Black', sans-serif">عنوانی</option>
                </select>
            </div>
            
            <div class="settings-group">
                <label class="settings-label">تم نمایش</label>
                <select class="settings-select" id="theme" onchange="updateTheme()">
                    <option value="dark" selected>تیره (پیش‌فرض)</option>
                    <option value="light">روشن</option>
                    <option value="sepia">سپیا</option>
                </select>
            </div>
            
            <div class="settings-group">
                <div class="checkbox-group">
                    <input type="checkbox" id="onlineContent" onchange="toggleOnlineOptions()">
                    <label for="onlineContent">اتصال به اینترنت برای دریافت محتوای آنلاین</label>
                </div>
                
                <div class="online-options" id="onlineOptions">
                    <div class="checkbox-group">
                        <input type="checkbox" id="bgMusic" checked>
                        <label for="bgMusic">موسیقی زمینه</label>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="soundEffects" checked>
                        <label for="soundEffects">افکت‌های صوتی</label>
                    </div>
                    
                    <div class="checkbox-group">
                        <input type="checkbox" id="showImages" checked>
                        <label for="showImages">نمایش تصاویر</label>
                    </div>
                    
                    <label class="settings-label">حجم صدا</label>
                    <div class="volume-control">
                        <i class="volume-icon fas fa-volume-down"></i>
                        <input type="range" id="volume" min="0" max="100" value="50" class="settings-input">
                        <i class="volume-icon fas fa-volume-up"></i>
                    </div>
                </div>
            </div>
            
            <div class="navigation">
                <button class="nav-btn" onclick="showCredits()">
                    سازندگان <i class="fas fa-users"></i>
                </button>
                <button class="nav-btn" onclick="backToMenu()">
                    بازگشت به منو <i class="fas fa-home"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- صفحه سازندگان -->
    <div class="credits-container" id="creditsContainer">
        <div class="credits-card">
            <h1 class="credits-title">سازندگان</h1>
            
            <div class="credit-section">
                <h2 class="credit-name">توسعه دهنده</h2>
                <p class="credit-role">طراحی و پیاده‌سازی</p>
                <p>حسام‌الدین</p>
                
                <div class="social-links">
                    <a href="https://instagram.com/hessamedien" class="social-link" target="_blank">
                        <i class="fab fa-instagram"></i> اینستاگرام: hessamedien
                    </a>
                </div>
            </div>
            
            <div class="credit-section">
                <h2 class="credit-name">نویسندگان داستان</h2>
                <p class="credit-role">بر اساس داستان اصلی بازی</p>
                <p>نیل دراکمن (Neil Druckmann)</p>
                <p>هیلی گروس (Halley Gross) - Part II</p>
            </div>
            
            <div class="credit-section">
                <h2 class="credit-name">استودیو سازنده</h2>
                <p>Naughty Dog</p>
            </div>
            
            <div class="credit-section">
                <h2 class="credit-name">حقوق کپی‌رایت</h2>
                <p>© 2013-2020 Naughty Dog, LLC. کلیه حقوق محفوظ است.</p>
                <p>این رمان تعاملی یک پروژه غیرانتفاعی است و صرفاً برای اهداف آموزشی و سرگرمی ایجاد شده است.</p>
            </div>
            
            <div class="navigation">
                <button class="nav-btn" onclick="showSettings()">
                    تنظیمات <i class="fas fa-cog"></i>
                </button>
                <button class="nav-btn" onclick="backToMenu()">
                    بازگشت به منو <i class="fas fa-home"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- صفحه پایان داستان -->
    <div class="ending-container" id="endingContainer">
        <div class="ending-card">
            <h1 class="ending-title">پایان داستان</h1>
            
            <div class="ending-content">
                <p>با تشکر از شما برای همراهی در این سفر فراموش‌نشدنی. داستان جوئل و الی به پایان رسید، اما تأثیر آن بر فرهنگ بازی‌های ویدیویی و روایت‌گری دیجیتال برای همیشه باقی خواهد ماند.</p>
                
                <p>این رمان تعاملی حاوی تمام جزئیات داستان The Last Of Us Part I و Part II است. امیدواریم از تجربه خواندن آن لذت برده باشید.</p>
                
                <p>برای دسترسی به متن کامل داستان جهت چاپ یا اشتراک‌گذاری، از گزینه‌های زیر استفاده کنید.</p>
            </div>
            
            <div class="ending-actions">
                <button class="action-btn" onclick="showFullText()">
                    <i class="fas fa-book"></i> مشاهده متن کامل
                </button>
                <button class="action-btn" onclick="printFullText()">
                    <i class="fas fa-print"></i> چاپ متن
                </button>
                <button class="action-btn" onclick="shareStory()">
                    <i class="fas fa-share-alt"></i> اشتراک‌گذاری
                </button>
                <button class="action-btn" onclick="backToMenu()">
                    <i class="fas fa-home"></i> بازگشت به منو
                </button>
            </div>
        </div>
    </div>
    
    <!-- صفحه متن کامل -->
    <div class="full-text-container" id="fullTextContainer">
        <div class="full-text-card">
            <div class="full-text-header">
                <h1 class="full-text-title">متن کامل داستان The Last Of Us</h1>
                <p class="full-text-subtitle">Part I & Part II - نسخه کامل برای چاپ و اشتراک‌گذاری</p>
            </div>
            
            <div class="full-text-content" id="fullTextContent">
                <!-- محتوای کامل داستان اینجا بارگذاری می‌شود -->
            </div>
            
            <div class="full-text-actions">
                <button class="action-btn" onclick="printFullText()">
                    <i class="fas fa-print"></i> چاپ متن
                </button>
                <button class="action-btn" onclick="shareStory()">
                    <i class="fas fa-share-alt"></i> اشتراک‌گذاری
                </button>
                <button class="action-btn" onclick="backToMenu()">
                    <i class="fas fa-home"></i> بازگشت به منو
                </button>
            </div>
        </div>
    </div>
    
    <!-- نوار وضعیت -->
    <div class="status-bar" id="statusBar">
        <div class="music-player">
            <button class="music-control" id="playPauseBtn" onclick="toggleMusic()">
                <i class="fas fa-play"></i>
            </button>
            <span class="current-time" id="currentTime">00:00</span>
        </div>
        <div class="story-info">
            <span id="currentChapterInfo">فصل 1 از 12</span>
        </div>
    </div>

    <script>
        // متغیرهای جهانی
        let currentChapter = 0;
        let totalChapters = 12;
        let isMusicPlaying = false;
        let audioPlayer = new Audio();
        
        // محتوای داستان (به صورت ساده‌شده)
        const storyChapters = [
            {
                title: "پیش‌درآمد: همه‌چیز از آن شب شروع شد",
                content: `
                    <p>سال ۲۰۱۳ بود. جوئل میلر، پدری تنها در تگزاس، زندگی معمولی داشت. دخترش سارا دوازده ساله بود و جوئل تمام تلاشش را می‌کرد تا بهترین پدر برای او باشد. اما همه چیز در یک شب تغییر کرد.</p>
                    
                    <p>شبی که خبر شیوع یک قارچ جهش‌یافته در سراسر جهان پخش شد. قارچی که انسان‌ها را به موجوداتی وحشی و غیرعقلانی تبدیل می‌کرد. جوئل و سارا به همراه برادر جوئل، تامی، سعی کردند از شهر فرار کنند.</p>
                    
                    <div class="dialogue">
                        <span class="character">سارا:</span> بابا، چی شده؟ چرا همه اینجوری شدن؟
                    </div>
                    
                    <div class="dialogue">
                        <span class="character">جوئل:</span> هیچی عزیزم، نگران نباش. من کنارت هستم.
                    </div>
                    
                    <p>اما تراژدی در راه بود. در حین فرار، یک سرباز که دستور داشت از گسترش بیماری جلوگیری کند، به سارا شلیک کرد. جوئل سعی کرد دخترش را نجات دهد، اما کار از کار گذشته بود. سارا در آغوش پدرش جان داد.</p>
                    
                    <p>این تراژدی، جوئل را برای همیشه تغییر داد. او بخشی از وجودش را در آن شب از دست داد و تبدیل به مردی سرد و بی‌احساس شد.</p>
                `
            },
            {
                title: "بیست سال بعد: دنیایی جدید",
                content: `
                    <p>بیست سال پس از شیوع بیماری، دنیا به مکانی خطرناک تبدیل شده بود. شهرها به ویرانه‌هایی مملو از عفونت تبدیل شده و بازماندگان در جوامع کوچک تحت کنترل نظامی زندگی می‌کردند.</p>
                    
                    <p>جوئل اکنون در منطقه قرنطینه بوستون زندگی می‌کرد و به قاچاق کالا مشغول بود. همراه او تس، زنی سخت‌گیر و بی‌پروا بود که در کارهای غیرقانونی به جوئل کمک می‌کرد.</p>
                    
                    <div class="dialogue">
                        <span class="character">تس:</span> جوئل، این کار آخرتونه. بعد از این دیگه از این کارا نمی‌کنیم.
                    </div>
                    
                    <div class="dialogue">
                        <span class="character">جوئل:</span> همیشه همین حرف رو می‌زنی تس.
                    </div>
                    
                    <p>یک روز، مارلین، رهبر گروه شورشگران "کرم شب‌تاب"، از جوئل و تس درخواست کرد تا یک محموله بسیار مهم را از بوستون خارج کنند. این محموله یک دختر چهارده ساله به نام الی بود.</p>
                    
                    <p>الی ظاهراً در برابر قارچ ایمن بود و شاید کلید ساخت واکسن باشد. جوئل ابتدا مخالف بود، اما وسوسه پاداش خوب او را متقاعد کرد که این کار را بپذیرد.</p>
                `
            },
            // فصل‌های بعدی به همین ترتیب ادامه می‌یابند...
        ];
        
        // محتوای کامل داستان برای صفحه متن کامل
        const fullStoryContent = `
            <h2>داستان کامل The Last Of Us</h2>
            <p>این متن کامل داستان بازی The Last Of Us شامل هر دو Part I و Part II می‌باشد.</p>
            <p>متن کامل داستان در این بخش قرار می‌گیرد...</p>
            <!-- محتوای کامل داستان -->
        `;
        
        // توابع مدیریت صفحات
        function showPage(pageId) {
            // مخفی کردن تمام صفحات
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('storyContainer').style.display = 'none';
            document.getElementById('settingsContainer').style.display = 'none';
            document.getElementById('creditsContainer').style.display = 'none';
            document.getElementById('endingContainer').style.display = 'none';
            document.getElementById('fullTextContainer').style.display = 'none';
            
            // نمایش صفحه مورد نظر
            document.getElementById(pageId).style.display = 'block';
            document.getElementById(pageId).classList.add('fade-in');
            
            // به بالای صفحه اسکرول کن
            window.scrollTo(0, 0);
        }
        
        function backToMenu() {
            showPage('mainMenu');
        }
        
        function startStory() {
            currentChapter = 0;
            loadChapter(currentChapter);
            showPage('storyContainer');
            updateProgressBar();
            updateChapterInfo();
        }
        
        function showSettings() {
            showPage('settingsContainer');
        }
        
        function showCredits() {
            showPage('creditsContainer');
        }
        
        function showEnding() {
            showPage('endingContainer');
        }
        
        function showFullText() {
            document.getElementById('fullTextContent').innerHTML = fullStoryContent;
            showPage('fullTextContainer');
        }
        
        function exitApp() {
            if (confirm('آیا مطمئن هستید که می‌خواهید از برنامه خارج شوید؟')) {
                // در مرورگر بسته نمی‌شود، اما می‌توانیم پیامی نمایش دهیم
                alert('با تشکر از استفاده شما از این رمان تعاملی. امیدواریم از آن لذت برده باشید.');
            }
        }
        
        // توابع مدیریت داستان
        function loadChapter(chapterIndex) {
            if (chapterIndex < 0 || chapterIndex >= storyChapters.length) return;
            
            currentChapter = chapterIndex;
            const chapter = storyChapters[chapterIndex];
            
            let contentHTML = `
                <div class="chapter">
                    <div class="chapter-content">
                        <h2 class="chapter-title">
                            <span class="chapter-number">${chapterIndex + 1}</span>
                            ${chapter.title}
                        </h2>
                        ${chapter.content}
                    </div>
                </div>
            `;
            
            document.getElementById('storyContent').innerHTML = contentHTML;
            updateProgressBar();
            updateChapterInfo();
            updateNavigationButtons();
        }
        
        function nextChapter() {
            if (currentChapter < storyChapters.length - 1) {
                loadChapter(currentChapter + 1);
            } else {
                showEnding();
            }
        }
        
        function previousChapter() {
            if (currentChapter > 0) {
                loadChapter(currentChapter - 1);
            }
        }
        
        function updateProgressBar() {
            const progress = ((currentChapter + 1) / totalChapters) * 100;
            document.getElementById('storyProgress').style.width = `${progress}%`;
        }
        
        function updateChapterInfo() {
            document.getElementById('currentChapterInfo').textContent = `فصل ${currentChapter + 1} از ${totalChapters}`;
        }
        
        function updateNavigationButtons() {
            document.getElementById('prevBtn').disabled = currentChapter === 0;
            document.getElementById('nextBtn').textContent = currentChapter === storyChapters.length - 1 ? 
                'پایان داستان <i class="fas fa-flag-checkered"></i>' : 
                'فصل بعدی <i class="fas fa-arrow-left"></i>';
        }
        
        // توابع تنظیمات
        function updateFontSize() {
            const fontSize = document.getElementById('fontSize').value;
            document.querySelector('.story-content').style.fontSize = fontSize;
            document.querySelector('.full-text-content').style.fontSize = fontSize;
        }
        
        function updateFontFamily() {
            const fontFamily = document.getElementById('fontFamily').value;
            document.body.style.fontFamily = fontFamily;
        }
        
        function updateTheme() {
            const theme = document.getElementById('theme').value;
            document.body.className = theme + '-theme';
        }
        
        function toggleOnlineOptions() {
            const onlineContent = document.getElementById('onlineContent').checked;
            document.getElementById('onlineOptions').style.display = onlineContent ? 'block' : 'none';
        }
        
        // توابع موسیقی و صدا
        function toggleMusic() {
            const playPauseBtn = document.getElementById('playPauseBtn');
            
            if (isMusicPlaying) {
                audioPlayer.pause();
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
            } else {
                // در اینجا می‌توانید آدرس یک فایل صوتی آنلاین قرار دهید
                audioPlayer.src = 'https://example.com/background-music.mp3';
                audioPlayer.volume = document.getElementById('volume').value / 100;
                audioPlayer.play();
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }
            
            isMusicPlaying = !isMusicPlaying;
        }
        
        // توابع چاپ و اشتراک‌گذاری
        function printFullText() {
            window.print();
        }
        
        function shareStory() {
            if (navigator.share) {
                navigator.share({
                    title: 'داستان کامل The Last Of Us',
                    text: 'رمان تعاملی The Last Of Us - داستان کامل Part I و Part II',
                    url: window.location.href
                })
                .then(() => console.log('محتوا با موفقیت به اشتراک گذاشته شد'))
                .catch((error) => console.log('خطا در به اشتراک‌گذاری:', error));
            } else {
                alert('متأسفانه مرورگر شما از قابلیت اشتراک‌گذاری پشتیبانی نمی‌کند. می‌توانید از طریق کلیدهای ترکیبی صفحه‌کلید محتوا را به اشتراک بگذارید.');
            }
        }
        
        // مقداردهی اولیه هنگام بارگذاری صفحه
        window.onload = function() {
            // بارگذاری تنظیمات ذخیره شده (اگر وجود داشته باشد)
            const savedFontSize = localStorage.getItem('fontSize');
            const savedFontFamily = localStorage.getItem('fontFamily');
            const savedTheme = localStorage.getItem('theme');
            
            if (savedFontSize) {
                document.getElementById('fontSize').value = savedFontSize;
                updateFontSize();
            }
            
            if (savedFontFamily) {
                document.getElementById('fontFamily').value = savedFontFamily;
                updateFontFamily();
            }
            
            if (savedTheme) {
                document.getElementById('theme').value = savedTheme;
                updateTheme();
            }
            
            // نمایش صفحه اصلی
            showPage('mainMenu');
        };
        
        // ذخیره تنظیمات هنگام تغییر
        document.getElementById('fontSize').addEventListener('change', function() {
            localStorage.setItem('fontSize', this.value);
        });
        
        document.getElementById('fontFamily').addEventListener('change', function() {
            localStorage.setItem('fontFamily', this.value);
        });
        
        document.getElementById('theme').addEventListener('change', function() {
            localStorage.setItem('theme', this.value);
        });
        
        // به روزرسانی حجم صدا
        document.getElementById('volume').addEventListener('input', function() {
            audioPlayer.volume = this.value / 100;
        });
    </script>
</body>
</html>